<?xml version="1.0" encoding="utf-8"?>
<!--
  This file is automatically imported by NuGet into a user's project
  when it targets a single framework, or in classic (pre 2017) csproj projects.
  See https://docs.microsoft.com/en-us/nuget/create-packages/creating-a-package#include-msbuild-props-and-targets-in-a-package
-->
<Project ToolsVersion="14.0" xmlns="http://schemas.microsoft.com/developer/msbuild/2003">
    <Import Project="$(MSBuildThisFileDirectory)Icon.targets" />
    <Import Project="$(MSBuildThisFileDirectory)PrivateAssets.targets" />
    <Import Project="$(MSBuildThisFileDirectory)RequiredReferences.targets" />
    <Import Project="$(MSBuildThisFileDirectory)RequiredFiles.targets" />
    <Import Project="$(MSBuildThisFileDirectory)TargetFrameworkVersions.targets" />

    <UsingTask
        TaskName="$(CakeContribGuidelinesCustomTasksNamespace).CalculateProjectType"
        AssemblyFile="$(CakeContribGuidelinesCustomTasksAssembly)" />

    <Target
        Name="EnsureProjectTypeIsSet">
        <ItemGroup>
            <ProjectNames Include="$(AssemblyName)" />
            <ProjectNames Include="$(PackageId)" />
        </ItemGroup>

        <CalculateProjectType
            ProjectType="$(CakeContribGuidelinesProjectType)"
            ProjectNames="@(ProjectNames)">
            <Output PropertyName="TempCakeContribGuidelinesProjectType" TaskParameter="Output"/>
        </CalculateProjectType>
        <CreateProperty
            Value="$(TempCakeContribGuidelinesProjectType)">
            <Output
                TaskParameter="Value"
                PropertyName="CakeContribGuidelinesProjectType" />
        </CreateProperty>
    </Target>

</Project>
